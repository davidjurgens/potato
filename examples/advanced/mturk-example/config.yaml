# Amazon Mechanical Turk Example Configuration
#
# This example shows how to configure Potato for deployment on Amazon Mechanical Turk.
# Workers will be automatically logged in using their MTurk workerId and can submit
# their HIT directly from the completion page.
#
# To test locally, run:
#   potato start examples/advanced/mturk-example/config.yaml -p 8000
#
# Then visit:
#   http://localhost:8000/?workerId=test_worker&assignmentId=test_assignment&hitId=test_hit&turkSubmitTo=https://workersandbox.mturk.com/mturk/externalSubmit
#
# To test preview mode:
#   http://localhost:8000/?workerId=test_worker&assignmentId=ASSIGNMENT_ID_NOT_AVAILABLE&hitId=test_hit

port: 9001
server_name: mturk_annotator

# Task identification
annotation_task_name: MTurk Annotation Task
task_description: "Classify the sentiment of short text snippets. This is a simple task that takes about 5 minutes to complete."

# MTurk login settings - extract workerId from URL
login:
  type: url_direct
  url_argument: workerId

# Completion code (optional - recorded in submission)
completion_code: "TASK_COMPLETED"

# Hide navigation to prevent workers from skipping around
hide_navbar: true
jumping_to_id_disabled: true

# Crowdsourcing assignment settings
assignment_strategy: random
max_annotations_per_user: 5
max_annotations_per_item: 3

# Task directories
task_dir: .
output_annotation_dir: annotation_output/mturk-example/
output_annotation_format: json

# Data files
data_files:
  - data/toy-example.json

# Item properties
item_properties:
  id_key: id
  text_key: text

# User configuration (all users allowed for URL-direct login)
user_config:
  allow_all_users: true
  users: []

# Annotation scheme - simple sentiment classification
annotation_schemes:
  - annotation_type: radio
    name: sentiment
    description: "What is the sentiment expressed in this text?"
    labels:
      - name: positive
        tooltip: "The text expresses positive feelings or opinions"
      - name: neutral
        tooltip: "The text is neutral or factual without clear sentiment"
      - name: negative
        tooltip: "The text expresses negative feelings or opinions"
    sequential_key_binding: true

# Use default templates
site_dir: default

# Optional: MTurk API integration (uncomment to enable)
# mturk:
#   enabled: true
#   config_file_path: configs/mturk_config.yaml
